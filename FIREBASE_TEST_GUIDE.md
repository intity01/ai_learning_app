# üß™ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö Firebase Authentication

## ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß

1. ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `signup_login_page.dart` ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ `AuthServiceFirebase`
2. ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `AuthService` (SharedPreferences) ‚Üí `AuthServiceFirebase` (Firebase)
3. ‚úÖ Firebase ‡∏ñ‡∏π‡∏Å initialize ‡πÉ‡∏ô `main.dart`

---

## üéØ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### **Step 1: Enable Services ‡πÉ‡∏ô Firebase Console**

#### **1.1 Enable Email/Password Authentication**

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Firebase Console](https://console.firebase.google.com/)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå `cominiti`
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Authentication"** (‡πÄ‡∏°‡∏ô‡∏π‡∏ã‡πâ‡∏≤‡∏¢)
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Get started"** (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
5. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **"Sign-in method"**
6. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Email/Password"**
7. ‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå **"Enable"**
8. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Save"**

#### **1.2 Enable Firestore Database**

1. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Firestore Database"** (‡πÄ‡∏°‡∏ô‡∏π‡∏ã‡πâ‡∏≤‡∏¢)
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Create database"**
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **"Start in test mode"**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Next"**
5. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Location: **`asia-southeast1`** (Singapore)
6. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Enable"**

---

### **Step 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Sign Up**

1. **‡∏£‡∏±‡∏ô‡πÅ‡∏≠‡∏õ:**
   ```bash
   flutter run -d emulator-5554
   ```

2. **‡∏ú‡πà‡∏≤‡∏ô Onboarding:**
   - ‡∏ú‡πà‡∏≤‡∏ô Onboarding Pages
   - ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° Onboarding Questions
   - ‡∏ú‡πà‡∏≤‡∏ô Loading Plan
   - ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Sign Up/Login

3. **Sign Up:**
   - ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
     - ‡∏ä‡∏∑‡πà‡∏≠: (‡πÄ‡∏ä‡πà‡∏ô "Test User")
     - ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: (‡πÄ‡∏ä‡πà‡∏ô "test@example.com")
     - ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)
   - ‡∏Å‡∏î **"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ"**

4. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
   - ‚úÖ ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ MainScreen
   - ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Firebase Console ‚Üí **Authentication ‚Üí Users**
     - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô user ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ email ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å
   - ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Firebase Console ‚Üí **Firestore Database ‚Üí Collection `users`**
     - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô document ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• user profile

---

### **Step 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Sign In**

1. **‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà**
2. **‡∏ú‡πà‡∏≤‡∏ô Onboarding** (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô First Launch)
3. **‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Sign Up/Login**
4. **Toggle ‡πÄ‡∏õ‡πá‡∏ô "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"**
5. **‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô** ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ
6. **‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"**

7. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
   - ‚úÖ ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ MainScreen
   - ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Firestore ‚Üí Collection `users`
     - `lastLoginAt` ‡∏Ñ‡∏ß‡∏£‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

---

### **Step 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Skip (Lazy Registration)**

1. **‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Sign Up/Login**
2. **‡∏Å‡∏î "‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô (‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ü‡∏£‡∏µ)"**
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
   - ‚úÖ ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ MainScreen
   - ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á user ‡πÉ‡∏ô Firebase (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Sign Up)

---

## üêõ Troubleshooting

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Sign Up ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à**

**Error: "Sign up failed: [firebase_auth/email-already-in-use]"**
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Email ‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡πÉ‡∏ä‡πâ email ‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠ Sign In ‡πÅ‡∏ó‡∏ô

**Error: "Sign up failed: [firebase_auth/weak-password]"**
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏Å‡∏ß‡πà‡∏≤ (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)

**Error: "Sign up failed: [firebase_auth/invalid-email]"**
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•

**Error: "Sign up failed: PlatformException(...)"**
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Email/Password Authentication ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Enable
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡πÑ‡∏õ Enable ‡πÉ‡∏ô Firebase Console

---

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Sign In ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à**

**Error: "Sign in failed: [firebase_auth/user-not-found]"**
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡∏°‡∏µ user ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** Sign Up ‡∏Å‡πà‡∏≠‡∏ô

**Error: "Sign in failed: [firebase_auth/wrong-password]"**
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô

**Error: "Sign in failed: [firebase_auth/invalid-email]"**
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•

---

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Firestore**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Firestore Database ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Enable
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡πÑ‡∏õ Enable ‡πÉ‡∏ô Firebase Console

---

## ‚úÖ Checklist

### **Before Testing:**
- [ ] Enable Email/Password Authentication ‡πÉ‡∏ô Firebase Console
- [ ] Enable Firestore Database ‡πÉ‡∏ô Firebase Console
- [ ] ‡πÅ‡∏≠‡∏õ‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏°‡∏µ errors)

### **Testing:**
- [ ] Sign Up ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Firebase Console ‚Üí Authentication ‚Üí Users
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Firestore ‚Üí Collection `users`
- [ ] Sign In ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] Skip (Lazy Registration) ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

---

## üìù Expected Results

### **After Sign Up:**
1. ‚úÖ User ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô Firebase Authentication
2. ‚úÖ User Profile ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô Firestore ‚Üí Collection `users`
3. ‚úÖ ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ MainScreen
4. ‚úÖ Onboarding ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡πÉ‡∏´‡∏°‡πà ‚Üí ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á Onboarding)

### **After Sign In:**
1. ‚úÖ User ‡∏ñ‡∏π‡∏Å authenticate
2. ‚úÖ User Profile ‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å Firestore
3. ‚úÖ `lastLoginAt` ‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
4. ‚úÖ ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ MainScreen

---

**‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß!** üöÄ


